# 类和对象

```scala
package com.stanlong.scala

/**
 * 类和对象
 */
object Exercise01 {
    def main(args: Array[String]): Unit = {
        val cat = new Cat() // 括号可以省略
        cat.name = "小白猫"
        cat.age = 10
        cat.color = "白色"
        println("ok~")
        printf("\n小猫的信息如下: %s %d %s", cat.name, cat.age, cat.color)
    }
}
class Cat{
    var name:String=""
    var age:Int= 0
    var color = ""
}
```

说明

```
1. 一个class Cat对应的字节码文件只有一个 Cat.class,默认修饰符public

2.当我们声明 var name:String时，在底层对应的是 private name。同时生成public方法 name() <=类似=> getter 方法. public name_$eq()<=类似=> setter方法

3.cat.name = "小白猫", 其实访问的不是属性，而是 cat.name_$eq("小白猫")

4.Scala中声明一个属性,必须显示的初始化，然后根据初始化数据的类型自动推断，属性类型可以省略

5.如果在定义属性时，暂时不赋值，也可以使用符号_(下划线)，让系统分配默认值.
Byte Short Int Long 默认值 0
Float Double        默认值 0.0
String 和 引用类型    默认值 null
Boolean             默认值 false
```

# 构造器

构造器快速入门

```sca
package com.stanlong.scala

/**
 * 计算字符串中所有字母的Unicode代码的乘积
 */
object Exercise01 {
    def main(args: Array[String]): Unit = {
        val person = new Person("Stanlong", inAge = 20)
        println(person)

    }
}

// 创建Person对象的同时初始化对象的age属性和name属性值
class Person(inName:String, inAge:Int){
    var name=inName
    var age = inAge

    override def toString: String = {
        "name=" + this.name + "\t age=" + this.age
    }
}
```

主构造器和辅助构造器

Scala类的构造器包括： 主构造器 和 辅助构造器

Scala构造器的基本语法

class 类名(形参列表) {  // 主构造器
   // 类体
   def  this(形参列表) {  // 辅助构造器
   }
   def  this(形参列表) {  //辅助构造器可以有多个...
   }
} 
//1. 辅助构造器 函数的名称this, 可以有多个，编译器通过不同参数来区分.

```scala
package com.stanlong.scala

/**
 * 计算字符串中所有字母的Unicode代码的乘积
 */
object Exercise01 {
    def main(args: Array[String]): Unit = {
        val person = new Person("Stanlong", 20)
        println(person)

        val person2 = new Person("南海财神") // 调用辅助构造器
        println(person2)
        
        person.showInfo()
        person2.showInfo()
    }
}

class Person() {
    var name: String = _
    var age: Int = _
    def this(name : String) {
        //辅助构造器无论是直接或间接，最终都一定要调用主构造器，执行主构造器的逻辑
        //而且需要放在辅助构造器的第一行[这点和java一样，java中一个构造器要调用同类的其它构造器，也需要放在第一行]
        this()  //直接调用主构造器
        this.name = name
    }
    def this(name : String, age : Int) {
        this() //直接调用主构造器
        this.name = name
        this.age = age
    }
    def this(age : Int) {
        this("匿名") //简介调用主构造器,因为 def this(name : String) 中调用了主构造器!
        this.age = age
    }
    def showInfo(): Unit = {
        println("person信息如下:")
        println("name=" + this.name)
        println("age=" + this.age)
    }
}
```

属性高级

```scala
package com.stanlong.scala

/**
 * 计算字符串中所有字母的Unicode代码的乘积
 */
object Exercise01 {
    def main(args: Array[String]): Unit = {
        val worker = new Worker("Stanlong")
        worker.name // worker 只能访问到name， 不能访问inName

        val worker2 = new Worker2("Stanlong")
        worker2.inName // worker2 可以访问到 inName, 只读

        val worker3 = new Worker2("Stanlong")
        worker3.inName // 可读可写
    }
}

// 没有修饰词, 则inName 是一个局部变量
class Worker(inName:String){
    var name = inName
}

// val 修饰 inName, 那inName是worker2的一个private的只读属性
class Worker2(val inName:String){
    var name = inName
}

// var 修饰 inName, 那inName是worker3的一个private的可读写属性
class Worker3(var inName:String){
    var name = inName
}
```

属性注解

```scala
package com.stanlong.scala

import scala.beans.BeanProperty

/**
 * 计算字符串中所有字母的Unicode代码的乘积
 */
object Exercise01 {
    def main(args: Array[String]): Unit = {
        var car = new Car
        car.name = "宝马"
        println(car.name)

        car.setName("奔驰")
        println(car.getName())
    }
}
// 将Scala字段加@BeanProperty时，会自动生成规范的 setXxx/getXxx 方法。这时可以使用 对象.setXxx() 和 对象.getXxx() 来调用属性
class Car{
    @BeanProperty var name:String = null // 
}
```

## scala创建对象流程

```scala
class Person {
    var age: Short = 90
    var name: String
    = _
    def this (n: String, a: Int) {
        this ()
        this.name = n
        this.age = a
    }
}

var p: Person = new Person ("小倩", 20)

--------------------------------------------------------------------------

流程分析(面试题-写出)
加载类的信息(属性信息，方法信息)
在内存中(堆)开辟空间
使用父类的构造器(主和辅助)进行初始
使用主构造器对属性进行初始化 【age:90, naem nul】
使用辅助构造器对属性进行初始化 【 age:20, naem 小倩 】
将开辟的对象的地址赋给 p这个引用
```

## 实际问题抽象成类

```scala
package com.stanlong.scala

/**
 * 抽象类
 */
object Exercise01 {
    def main(args: Array[String]): Unit = {
        val bank = new Bank("StanLong", 100.00, "123456")
        //bank.query("StanLong", "123456")
        //bank.withdraw("StanLong", "123456", 10.00)
        bank.save("StanLong", "123456", 10.00)

    }
}

/**
 * 属性：账号，余额，密码
 * 方法：查询，存款，取款
 */
class Bank(inAccount:String, inBalance:Double, inPwd:String){
    val accountNo = inAccount
    val balance = inBalance
    var pwd = inPwd

    // 查询
    def query(accountNo:String, pwd:String):Unit={
        if(!this.accountNo.equals(accountNo) && !this.pwd.equals(pwd)){
            println("用户名或密码错误！")
            return
        }
        printf("账号为 %s 当前余额是%.2f\n", this.accountNo, this.balance)
    }

    // 取钱
    def withdraw(accountNo:String, pwd:String, balance:Double): Unit ={
        if(balance > this.balance){
            println("余额补足")
        }else{
            printf("%s 取出金额 %.2f， 剩余金额%.2f", this.accountNo, this.balance, (this.balance-balance))
        }
    }

    // 存钱
    def save(accountNo:String, pwd:String, balance:Double): Unit ={
        printf("%s 取出金额 %.2f， 剩余金额%.2f", this.accountNo, this.balance, (this.balance+balance))
    }
}
```

# 继承

```scala
/**
 * 继承
 */
object Exercise01 extends App { // 继承App后，就可以直接在这个类中执行代码，不需要再写main入口
    println("app~~")
}
```

```scala
package com.stanlong.scala

/**
 * 继承
 */
object Exercise01{ // 继承App后，就可以直接在这个类中执行代码，不需要再写main入口
    def main(args: Array[String]): Unit = {
        val student = new Student
        student.name = "StanLong"
        student.age = 27
        student.studying()
        student.showInfo()
    }
}


class Person(){
    var name : String = _
    var age : Int = _

    def showInfo(): Unit = {
        println("学生信息如下")
        println("名字: " + this.name)
        println("年龄: " + this.age)
    }
}

class Student extends Person{
    def studying(): Unit = {
        println(this.name + " 学习scala...")
    }
}
```







