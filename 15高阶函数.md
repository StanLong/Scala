# 高阶函数

## flatMap

```scala
package com.stanlong.scala

/**
 * flatmap映射：flat即压扁，压平，扁平化映射
 * 效果就是将集合中的每个元素的子元素映射到某个函数并返回新的集合。
 */
object Exercise01 {
    def main(args: Array[String]): Unit = {
        val names = List("Alice", "Bob", "Nick")
        //注意：每个字符串也是char集合
        println(names.flatMap(upper))
        // List(A, L, I, C, E, B, O, B, N, I, C, K)

    }

    def upper( s : String ) : String = {
        s. toUpperCase
    }
}
```

## filter

```scala
package com.stanlong.scala

/**
 * filter
 * 将符合要求的数据(筛选)放置到新的集合中
 */
object Exercise01 {
    def main(args: Array[String]): Unit = {
        val names = List("Alice", "Bob", "Nick")
        val names2 = names.filter(startA)
        println("names=" + names2)


    }

    def startA(s:String): Boolean = {
        s.startsWith("A")
    }
}
```

## reduce

```scala
package com.stanlong.scala

/**
 * reduce
 * reduceleft(f) 的运行规则是 从左边开始执行将得到的结果返回给第一个参数
 * reducereght(f) 的运行规则是 从右边开始执行将得到的结果返回给第一个参数
 * reduce 默认同 reduceleft
 */
object Exercise01 {
    def main(args: Array[String]): Unit = {
        val list = List(1, 2, 3, 4, 5)
        val res = list.reduce(sum)
        val res_l = list.reduceLeft(sum)
        val res_r = list.reduceRight(sum)
        println("res=" + res)
        // 执行步骤
        // ((1-2)-3)-4)-5 = -13
        println("res_l=" + res_l)
        // 执行步骤
        // 1-(2-(3-(4-5)) = 3
        println("res_r=" + res_r)
    }
    def sum(n1: Int, n2: Int): Int = {
        n1 - n2
    }
}

```

## fold

```scala
package com.stanlong.scala

/**
 * fold函数将上一步返回的值作为函数的第一个参数继续传递参与运算，直到list中的所有元素被遍历。
 * 相关函数：fold，foldLeft，foldRight
 */
object Exercise01 {
    def main(args: Array[String]): Unit = {
        val list = List(1,2,3,4)
        println(list.fold(5)(minus)) // fold 默认同 foldLeft
        // foldLeft 步骤
        // (5-1)
        // ((5-1)-2)
        // ((5-1)-2)-3)
        // ((5-1)-2)-3)-4) = -5
        println(list.foldLeft(5)(minus))
        // 简写
        println((5 /: list)(minus))

        // foldRight 步骤
        // (4-5)
        // (3-(4-5))
        // (2-(3-(4-5)))
        // 1 - (2-(3-(4-5))) = 3
        println(list.foldRight(5)(minus))
        // 简写
        println((list :\ 5)(minus))
    }
    def minus(num1:Int, num2:Int):Int={
        num1 - num2
    }
}
```

